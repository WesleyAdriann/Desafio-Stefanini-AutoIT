(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(78),c=a.n(s),l=a(57),i=a.n(l),o=a(79),m=a(12),u=a(13),d=a(15),p=a(14),h=a(16),b=a(24),f=a(41),v=a(23),g=a(22),E=a.n(g),N=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).spellCheck=function(e){a.state.inputNome.length<3?alert("O nome \xe9 muito curto"):/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(a.state.inputEmail).toLowerCase())?a.state.inputDescricao.length<3?alert("Adicione uma descri\xe7\xe3o"):(e.preventDefault(),a.props.spellCheck(a.state.inputNome,a.state.inputEmail,a.state.inputDescricao)):alert("Email invalido")},a.handleChanges=function(e,t){"nome"===e?a.setState({inputNome:t}):"email"===e?a.setState({inputEmail:t}):a.setState({inputDescricao:t})},a.state={inputNome:"",inputEmail:"",inputDescricao:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",className:"form-control",id:"nome",placeholder:"Informe seu nome",onChange:function(t){return e.handleChanges(t.target.id,t.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"nome@exemplo.com",onChange:function(t){return e.handleChanges(t.target.id,t.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Descri\xe7\xe3o"),r.a.createElement("textarea",{className:"form-control",id:"descricao",rows:"3",onChange:function(t){return e.handleChanges(t.target.id,t.target.value)}})),r.a.createElement("button",{style:{float:"right"},type:"submit",className:"btn btn-primary",onClick:function(t){return e.spellCheck(t)}},"Salvar")))}}]),t}(n.Component),y=a(83),k=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){!1===a.state.flag&&(a.handleLingua(a.props.descricao),a.handlePalavras(a.props.descricao),a.handleSentimento(a.props.descricao))},a.handleLingua=function(e){E()({method:"post",url:"https://brazilsouth.api.cognitive.microsoft.com/text/analytics/v2.0/languages",headers:{"Ocp-Apim-Subscription-Key":"b7857a3c744e4b589098202a253ec8f5"},data:{documents:[{id:"1",text:e}]}}).then(function(e){a.setState({lingua:e.data.documents[0].detectedLanguages[0],flag:!0})})},a.handleSentimento=function(e){E()({method:"post",url:"https://brazilsouth.api.cognitive.microsoft.com/text/analytics/v2.0/sentiment",headers:{"Ocp-Apim-Subscription-Key":"b7857a3c744e4b589098202a253ec8f5"},data:{documents:[{id:"1",text:e}]}}).then(function(e){a.setState({sentimento:e.data.documents[0].score,flag:!0})})},a.handlePalavras=function(e){E()({method:"post",url:"https://brazilsouth.api.cognitive.microsoft.com/text/analytics/v2.0/keyPhrases",headers:{"Ocp-Apim-Subscription-Key":"b7857a3c744e4b589098202a253ec8f5"},data:{documents:[{id:"1",text:e}]}}).then(function(e){a.setState({palavrasChave:e.data.documents[0].keyPhrases,flag:!0})})},a.reRender=function(){a.state.flag&&a.setState({flag:!1})},a.state={palavrasChave:[],lingua:"",sentimento:"",flag:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return window.setTimeout(this.reRender,2e3),r.a.createElement("div",null,r.a.createElement("strong",{style:{fontSize:"14px"}},"Lingua")," ",r.a.createElement("br",null),this.state.lingua.name," - ",this.state.lingua.iso6391Name,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",{style:{fontSize:"14px"}},"Palavras Chaves")," ",r.a.createElement("br",null),Object.entries(this.state.palavrasChave).map(function(e){var t=Object(y.a)(e,2),a=t[0],n=t[1];return r.a.createElement("span",{key:a,className:"badge badge-primary ml-1"},n)}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",{style:{fontSize:"14px"}},"Sentimento")," ",r.a.createElement("br",null),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(100*this.state.sentimento,"%")}},parseInt(100*this.state.sentimento),"%")))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).data=e.data,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},this.data.map(function(e){return r.a.createElement("div",{className:"col-md-3",key:e.userNome},r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-header text-center text-white bg-primary",style:{paddingTop:"20px"}},r.a.createElement("h6",null,e.userNome)),r.a.createElement("div",{className:"card-body"},r.a.createElement("strong",{style:{fontSize:"14px"}},"Email"),r.a.createElement("br",null),e.userEmail,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",{style:{fontSize:"14px"}},"Descri\xe7\xe3o")," ",r.a.createElement("br",null),e.userDescricao," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(k,{descricao:e.userDescricao}))))}))}}]),t}(n.Component),C=a(80),S=a.n(C),j=(a(161),{apiKey:"AIzaSyCcOPzHbva83MgWlXHL5HAP1BNtk3p7UPE",authDomain:"desafiostefanini-e7483.firebaseapp.com",databaseURL:"https://desafiostefanini-e7483.firebaseio.com",projectId:"desafiostefanini-e7483",storageBucket:"desafiostefanini-e7483.appspot.com",messagingSenderId:"927440062116"}),x=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){var e=a.state.data;a.db.on("child_added",function(t){e.push({userNome:t.val().userNome,userEmail:t.val().userEmail,userDescricao:t.val().userDescricao}),a.setState({data:e})})},a.addUser=function(e,t,n){a.db.push().set({userNome:e,userEmail:t,userDescricao:n},function(e){e?alert("N\xe3o foi possivel adicionar."):alert("Adicionado com sucesso")})},a.state={returnSpellCheck:"",data:[]},a.spellCheck=a.spellCheck.bind(Object(b.a)(Object(b.a)(a))),a.addUser=a.addUser.bind(Object(b.a)(Object(b.a)(a))),a.app=S.a.initializeApp(j),a.db=a.app.database().ref().child("data"),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"spellCheck",value:function(){var e=Object(o.a)(i.a.mark(function e(t,a,n){var r,s,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"44696f4e806a4b7ab09d1519fc5e4e48",e.next=3,E()({method:"get",url:"https://api.cognitive.microsoft.com/bing/v7.0/spellcheck?text=".concat(n),params:{mkt:"pt-br",mode:"proof"},headers:{"Ocp-Apim-Subscription-Key":"44696f4e806a4b7ab09d1519fc5e4e48"}});case 3:return r=e.sent,e.next=6,this.setState({returnSpellCheck:r.data.flaggedTokens});case 6:for(s=0;s<this.state.returnSpellCheck.length;s++)c=this.state.returnSpellCheck[s].suggestions[0].suggestion,l=this.state.returnSpellCheck[s].token,n=n.replace(l,c);this.addUser(t,a,n);case 8:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light "},r.a.createElement("div",{className:"collapse navbar-collapse justify-content-center",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav "},r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/",className:"nav-link"},"Desafio I - Correcao Texto")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/painel",className:"nav-link"},"Desafio II - Painel"))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col"},r.a.createElement(v.a,{path:"/",exact:!0,component:function(){return r.a.createElement(N,{spellCheck:e.spellCheck})}}),r.a.createElement(v.a,{path:"/painel",component:function(){return r.a.createElement(O,{data:e.state.data})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,t,a){e.exports=a(170)}},[[84,1,2]]]);
//# sourceMappingURL=main.a91a5e8e.chunk.js.map